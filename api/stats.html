
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Stats &#8212; PyMC3 3.6 documentation</title>
    <link rel="stylesheet" href="../_static/semantic-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script type="text/javascript" src="../_static/highlight.min.js"></script>
    <script type="text/javascript" src="../_static/semantic.min.js"></script>
    <link rel="shortcut icon" href="../_static/PyMC3.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<script>hljs.initHighlightingOnLoad();</script>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">



  </head><body>
<div class="ui vertical center aligned">

    <div class="ui container">
        <div class="ui large secondary pointing menu">
            <a class="item" href="/">
                <img class="ui bottom aligned tiny image" src="https://cdn.rawgit.com/pymc-devs/pymc3/master/docs/logos/svg/PyMC3_banner.svg" />
            </a>
             <a href="../nb_tutorials/index.html" class="item">Tutorials</a> <a href="../nb_examples/index.html" class="item">Examples</a> <a href="../learn.html" class="item">Books + Videos</a> <a href="../api.html" class="item">API</a> <a href="../developer_guide.html" class="item">Developer Guide</a> <a href="../history.html" class="item">About PyMC3</a>
            
            <div class="right menu">
                <div class="item">
                    <form class="ui icon input" action="../search.html" method="get">
                        <input type="text" placeholder="Search..." name="q" />
                        <i class="search link icon"></i>
                    </form>
                </div>
                <a class="item" href="https://github.com/pymc-devs/pymc3"><i class="github blue icon large"></i></a>
            </div>
        </div>
    </div>
    
</div>

<div class="ui container" role="main">
    

    <div class="ui vertical segment">
        
  <div class="section" id="module-pymc3.stats">
<span id="stats"></span><h1>Stats<a class="headerlink" href="#module-pymc3.stats" title="Permalink to this headline">¶</a></h1>
<p>Statistical utility functions for PyMC</p>
<dl class="function">
<dt id="pymc3.stats.autocorr">
<code class="descclassname">pymc3.stats.</code><code class="descname">autocorr</code><span class="sig-paren">(</span><em>pymc3_obj</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.autocorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute autocorrelation using FFT for every lag for the input array
<a class="reference external" href="https://en.wikipedia.org/wiki/Autocorrelation#Efficient_computation">https://en.wikipedia.org/wiki/Autocorrelation#Efficient_computation</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : Numpy array</p>
<blockquote>
<div><p>An array containing MCMC samples</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">acorr: Numpy array same size as the input array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.autocov">
<code class="descclassname">pymc3.stats.</code><code class="descname">autocov</code><span class="sig-paren">(</span><em>pymc3_obj</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.autocov" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute autocovariance estimates for every lag for the input array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : Numpy array</p>
<blockquote>
<div><p>An array containing MCMC samples</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">acov: Numpy array same size as the input array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.waic">
<code class="descclassname">pymc3.stats.</code><code class="descname">waic</code><span class="sig-paren">(</span><em>trace</em>, <em>model=None</em>, <em>pointwise=False</em>, <em>progressbar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.waic" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the widely available information criterion, its standard error
and the effective number of parameters of the samples in trace from model.
Read more theory here - in a paper by some of the leading authorities on
model selection - dx.doi.org/10.1111/1467-9868.00353</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>trace</strong> : result of MCMC run</p>
<p><strong>model</strong> : PyMC Model</p>
<blockquote>
<div><p>Optional model. Default None, taken from context.</p>
</div></blockquote>
<p><strong>pointwise: bool</strong></p>
<blockquote>
<div><p>if True the pointwise predictive accuracy will be returned.
Default False</p>
</div></blockquote>
<p><strong>progressbar: bool</strong></p>
<blockquote>
<div><p>Whether or not to display a progress bar in the command line. The
bar shows the percentage of completion, the evaluation speed, and
the estimated time to completion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">namedtuple with the following elements:</p>
<p>waic: widely available information criterion</p>
<p>waic_se: standard error of waic</p>
<p>p_waic: effective number parameters</p>
<p>var_warn: 1 if posterior variance of the log predictive</p>
<blockquote>
<div><p>densities exceeds 0.4</p>
</div></blockquote>
<p class="last">waic_i: and array of the pointwise predictive accuracy, only if pointwise True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.loo">
<code class="descclassname">pymc3.stats.</code><code class="descname">loo</code><span class="sig-paren">(</span><em>trace</em>, <em>model=None</em>, <em>pointwise=False</em>, <em>reff=None</em>, <em>progressbar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.loo" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates leave-one-out (LOO) cross-validation for out of sample
predictive model fit, following Vehtari et al. (2015). Cross-validation is
computed using Pareto-smoothed importance sampling (PSIS).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>trace</strong> : result of MCMC run</p>
<p><strong>model</strong> : PyMC Model</p>
<blockquote>
<div><p>Optional model. Default None, taken from context.</p>
</div></blockquote>
<p><strong>pointwise: bool</strong></p>
<blockquote>
<div><p>if True the pointwise predictive accuracy will be returned.
Default False</p>
</div></blockquote>
<p><strong>reff</strong> : float</p>
<blockquote>
<div><p>relative MCMC efficiency, <cite>effective_n / n</cite> i.e. number of effective
samples divided by the number of actual samples. Computed from trace by
default.</p>
</div></blockquote>
<p><strong>progressbar: bool</strong></p>
<blockquote>
<div><p>Whether or not to display a progress bar in the command line. The
bar shows the percentage of completion, the evaluation speed, and
the estimated time to completion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">namedtuple with the following elements:</p>
<p>loo: approximated Leave-one-out cross-validation</p>
<p>loo_se: standard error of loo</p>
<p>p_loo: effective number of parameters</p>
<p>shape_warn: 1 if the estimated shape parameter of</p>
<blockquote>
<div><p>Pareto distribution is greater than 0.7 for one or more samples</p>
</div></blockquote>
<p class="last">loo_i: array of pointwise predictive accuracy, only if pointwise True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.hpd">
<code class="descclassname">pymc3.stats.</code><code class="descname">hpd</code><span class="sig-paren">(</span><em>pymc3_obj</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.hpd" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate highest posterior density (HPD) of array for given alpha. The HPD is the
minimum width Bayesian credible interval (BCI).</p>
<p>This function assumes the posterior distribution is unimodal:
it always returns one interval per variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><dl class="first last docutils">
<dt>x <span class="classifier-delimiter">:</span> <span class="classifier">Numpy array</span></dt>
<dd><p class="first last">An array containing MCMC samples</p>
</dd>
<dt>alpha <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Desired probability of type I error (defaults to 0.05)</p>
</dd>
<dt>transform <span class="classifier-delimiter">:</span> <span class="classifier">callable</span></dt>
<dd><p class="first last">Function to transform data (defaults to identity)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.quantiles">
<code class="descclassname">pymc3.stats.</code><code class="descname">quantiles</code><span class="sig-paren">(</span><em>pymc3_obj</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.quantiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of requested quantiles from array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : Numpy array</p>
<blockquote>
<div><p>An array containing MCMC samples</p>
</div></blockquote>
<p><strong>qlist</strong> : tuple or list</p>
<blockquote>
<div><p>A list of desired quantiles (defaults to (2.5, 25, 50, 75, 97.5))</p>
</div></blockquote>
<p><strong>transform</strong> : callable</p>
<blockquote>
<div><p>Function to transform data (defaults to identity)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>dictionary</cite> with the quantiles {quantile: value}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.mc_error">
<code class="descclassname">pymc3.stats.</code><code class="descname">mc_error</code><span class="sig-paren">(</span><em>pymc3_obj</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.mc_error" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Calculates the simulation standard error, accounting for non-independent</dt>
<dd>samples. The trace is divided into batches, and the standard deviation of
the batch means is calculated.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : Numpy array</p>
<blockquote>
<div><p>An array containing MCMC samples</p>
</div></blockquote>
<p><strong>batches</strong> : integer</p>
<blockquote>
<div><p>Number of batches</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>float</cite> representing the error</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.summary">
<code class="descclassname">pymc3.stats.</code><code class="descname">summary</code><span class="sig-paren">(</span><em>trace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt;&gt;</em>, <em>stat_funcs=None</em>, <em>extend=False</em>, <em>include_transformed=False</em>, <em>alpha=0.05</em>, <em>start=0</em>, <em>batches=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a data frame with summary statistics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>trace</strong> : MultiTrace instance</p>
<p><strong>varnames</strong> : list</p>
<blockquote>
<div><p>Names of variables to include in summary</p>
</div></blockquote>
<p><strong>transform</strong> : callable</p>
<blockquote>
<div><p>Function to transform data (defaults to identity)</p>
</div></blockquote>
<p><strong>stat_funcs</strong> : None or list</p>
<blockquote>
<div><p>A list of functions used to calculate statistics. By default,
the mean, standard deviation, simulation standard error, and
highest posterior density intervals are included.</p>
<p>The functions will be given one argument, the samples for a
variable as a 2 dimensional array, where the first axis
corresponds to sampling iterations and the second axis
represents the flattened variable (e.g., x__0, x__1,…). Each
function should return either</p>
<ol class="arabic simple">
<li>A <cite>pandas.Series</cite> instance containing the result of
calculating the statistic along the first axis. The name
attribute will be taken as the name of the statistic.</li>
<li>A <cite>pandas.DataFrame</cite> where each column contains the
result of calculating the statistic along the first axis.
The column names will be taken as the names of the
statistics.</li>
</ol>
</div></blockquote>
<p><strong>extend</strong> : boolean</p>
<blockquote>
<div><p>If True, use the statistics returned by <cite>stat_funcs</cite> in
addition to, rather than in place of, the default statistics.
This is only meaningful when <cite>stat_funcs</cite> is not None.</p>
</div></blockquote>
<p><strong>include_transformed</strong> : bool</p>
<blockquote>
<div><p>Flag for reporting automatically transformed variables in addition
to original variables (defaults to False).</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>The alpha level for generating posterior intervals. Defaults
to 0.05. This is only meaningful when <cite>stat_funcs</cite> is None.</p>
</div></blockquote>
<p><strong>start</strong> : int</p>
<blockquote>
<div><p>The starting index from which to summarize (each) chain. Defaults
to zero.</p>
</div></blockquote>
<p><strong>batches</strong> : None or int</p>
<blockquote>
<div><p>Batch size for calculating standard deviation for non-independent
samples. Defaults to the smaller of 100 or the number of samples.
This is only meaningful when <cite>stat_funcs</cite> is None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><cite>pandas.DataFrame</cite> with summary statistics for each variable Defaults one</p>
<p>are: <cite>mean</cite>, <cite>sd</cite>, <cite>mc_error</cite>, <cite>hpd_2.5</cite>, <cite>hpd_97.5</cite>, <cite>n_eff</cite> and <cite>Rhat</cite>.</p>
<p class="last">Last two are only computed for traces with 2 or more chains.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pymc3</span> <span class="kn">as</span> <span class="nn">pm</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">trace</span><span class="o">.</span><span class="n">mu</span><span class="o">.</span><span class="n">shape</span>
<span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pm</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;mu&#39;</span><span class="p">])</span>
           <span class="n">mean</span>        <span class="n">sd</span>  <span class="n">mc_error</span>     <span class="n">hpd_5</span>    <span class="n">hpd_95</span>
<span class="n">mu__0</span>  <span class="mf">0.106897</span>  <span class="mf">0.066473</span>  <span class="mf">0.001818</span> <span class="o">-</span><span class="mf">0.020612</span>  <span class="mf">0.231626</span>
<span class="n">mu__1</span> <span class="o">-</span><span class="mf">0.046597</span>  <span class="mf">0.067513</span>  <span class="mf">0.002048</span> <span class="o">-</span><span class="mf">0.174753</span>  <span class="mf">0.081924</span>

          <span class="n">n_eff</span>      <span class="n">Rhat</span>
<span class="n">mu__0</span>     <span class="mf">487.0</span>   <span class="mf">1.00001</span>
<span class="n">mu__1</span>     <span class="mf">379.0</span>   <span class="mf">1.00203</span>
</pre></div>
</div>
<p>Other statistics can be calculated by passing a list of functions.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">trace_sd</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sd&#39;</span><span class="p">)</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">trace_quantiles</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pm</span><span class="o">.</span><span class="n">quantiles</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">95</span><span class="p">]))</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pm</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;mu&#39;</span><span class="p">],</span> <span class="n">stat_funcs</span><span class="o">=</span><span class="p">[</span><span class="n">trace_sd</span><span class="p">,</span> <span class="n">trace_quantiles</span><span class="p">])</span>
             <span class="n">sd</span>         <span class="mi">5</span>        <span class="mi">50</span>        <span class="mi">95</span>
<span class="n">mu__0</span>  <span class="mf">0.066473</span>  <span class="mf">0.000312</span>  <span class="mf">0.105039</span>  <span class="mf">0.214242</span>
<span class="n">mu__1</span>  <span class="mf">0.067513</span> <span class="o">-</span><span class="mf">0.159097</span> <span class="o">-</span><span class="mf">0.045637</span>  <span class="mf">0.062912</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.compare">
<code class="descclassname">pymc3.stats.</code><code class="descname">compare</code><span class="sig-paren">(</span><em>model_dict</em>, <em>ic='WAIC'</em>, <em>method='stacking'</em>, <em>b_samples=1000</em>, <em>alpha=1</em>, <em>seed=None</em>, <em>round_to=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare models based on the widely available information criterion (WAIC)
or leave-one-out (LOO) cross-validation.
Read more theory here - in a paper by some of the leading authorities on
model selection - dx.doi.org/10.1111/1467-9868.00353</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model_dict</strong> : dictionary of PyMC3 traces indexed by corresponding model</p>
<p><strong>ic</strong> : string</p>
<blockquote>
<div><p>Information Criterion (WAIC or LOO) used to compare models.
Default WAIC.</p>
</div></blockquote>
<p><strong>method</strong> : str</p>
<blockquote>
<div><p>Method used to estimate the weights for each model. Available options
are:</p>
<blockquote>
<div><ul class="simple">
<li>‘stacking’ : (default) stacking of predictive distributions.</li>
<li><dl class="first docutils">
<dt>‘BB-pseudo-BMA’ <span class="classifier-delimiter">:</span> <span class="classifier">pseudo-Bayesian Model averaging using Akaike-type</span></dt>
<dd>weighting. The weights are stabilized using the Bayesian bootstrap</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>‘pseudo-BMA’: pseudo-Bayesian Model averaging using Akaike-type</dt>
<dd>weighting, without Bootstrap stabilization (not recommended)</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>For more information read <a class="reference external" href="https://arxiv.org/abs/1704.02030">https://arxiv.org/abs/1704.02030</a></p>
</div></blockquote>
<p><strong>b_samples: int</strong></p>
<blockquote>
<div><p>Number of samples taken by the Bayesian bootstrap estimation. Only
useful when method = ‘BB-pseudo-BMA’.</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>The shape parameter in the Dirichlet distribution used for the
Bayesian bootstrap. Only useful when method = ‘BB-pseudo-BMA’. When
alpha=1 (default), the distribution is uniform on the simplex. A
smaller alpha will keeps the final weights more away from 0 and 1.</p>
</div></blockquote>
<p><strong>seed</strong> : int or np.random.RandomState instance</p>
<blockquote>
<div><p>If int or RandomState, use it for seeding Bayesian bootstrap. Only
useful when method = ‘BB-pseudo-BMA’. Default None the global
np.random state is used.</p>
</div></blockquote>
<p><strong>round_to</strong> : int</p>
<blockquote>
<div><p>Number of decimals used to round results (default 2).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A DataFrame, ordered from lowest to highest IC. The index reflects</p>
<p>the order in which the models are passed to this function. The columns are:</p>
<p><strong>IC</strong> : Information Criteria (WAIC or LOO).</p>
<blockquote>
<div><p>Smaller IC indicates higher out-of-sample predictive fit (“better” model).
Default WAIC.</p>
</div></blockquote>
<p><strong>pIC</strong> : Estimated effective number of parameters.</p>
<p><strong>dIC</strong> : Relative difference between each IC (WAIC or LOO)</p>
<p>and the lowest IC (WAIC or LOO).</p>
<blockquote>
<div><p>It’s always 0 for the top-ranked model.</p>
</div></blockquote>
<p>weight: Relative weight for each model.</p>
<blockquote>
<div><p>This can be loosely interpreted as the probability of each model
(among the compared model) given the data. By default the uncertainty
in the weights estimation is considered using Bayesian bootstrap.</p>
</div></blockquote>
<p><strong>SE</strong> : Standard error of the IC estimate.</p>
<blockquote>
<div><p>If method = BB-pseudo-BMA these values are estimated using Bayesian
bootstrap.</p>
</div></blockquote>
<p><strong>dSE</strong> : Standard error of the difference in IC between each model and</p>
<p>the top-ranked model.</p>
<blockquote>
<div><p>It’s always 0 for the top-ranked model.</p>
</div></blockquote>
<p><strong>warning</strong> : A value of 1 indicates that the computation of the IC may not be</p>
<blockquote class="last">
<div><p>reliable. Details see the related warning message in pm.waic and pm.loo</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.bfmi">
<code class="descclassname">pymc3.stats.</code><code class="descname">bfmi</code><span class="sig-paren">(</span><em>trace</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.bfmi" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated Bayesian fraction of missing information (BFMI).</p>
<p>BFMI quantifies how well momentum resampling matches the marginal energy
distribution.  For more information on BFMI, see
<a class="reference external" href="https://arxiv.org/pdf/1604.00695.pdf">https://arxiv.org/pdf/1604.00695.pdf</a>.  The current advice is that values
smaller than 0.2 indicate poor sampling.  However, this threshold is
provisional and may change.  See
<a class="reference external" href="http://mc-stan.org/users/documentation/case-studies/pystan_workflow.html">http://mc-stan.org/users/documentation/case-studies/pystan_workflow.html</a>
for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>trace</strong> : result of an HMC/NUTS run, must contain energy information</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>z</strong> : float</p>
<blockquote class="last">
<div><p>The Bayesian fraction of missing information of the model and trace.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymc3.stats.r2_score">
<code class="descclassname">pymc3.stats.</code><code class="descname">r2_score</code><span class="sig-paren">(</span><em>y_true</em>, <em>y_pred</em>, <em>round_to=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.stats.r2_score" title="Permalink to this definition">¶</a></dt>
<dd><p>R-squared for Bayesian regression models. Only valid for linear models.
<a class="reference external" href="http://www.stat.columbia.edu/%7Egelman/research/unpublished/bayes_R2.pdf">http://www.stat.columbia.edu/%7Egelman/research/unpublished/bayes_R2.pdf</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>y_true:</strong> : array-like of shape = (n_samples) or (n_samples, n_outputs)</p>
<blockquote>
<div><p>Ground truth (correct) target values.</p>
</div></blockquote>
<p><strong>y_pred</strong> : array-like of shape = (n_samples) or (n_samples, n_outputs)</p>
<blockquote>
<div><p>Estimated target values.</p>
</div></blockquote>
<p><strong>round_to</strong> : int</p>
<blockquote>
<div><p>Number of decimals used to round results (default 2).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><cite>namedtuple</cite> with the following elements:</p>
<p>R2_median: median of the Bayesian R2</p>
<p>R2_mean: mean of the Bayesian R2</p>
<p class="last">R2_std: standard deviation of the Bayesian R2</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
</div>
<div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <a href="https://github.com/pymc-devs/pymc3"><i class="github icon large"></i></a>
        <a href="https://twitter.com/pymc_devs"><i class="twitter icon large"></i></a>
        <a href="https://discourse.pymc.io/"><i class="discourse icon large"></i></a>
    </div>
    <div class="ui center aligned container">
        <p>
            &copy; Copyright 2018, The PyMC Development Team.
        </p>
        <p>
            Created using <a href="https://sphinx-doc.org/">Sphinx</a> 1.8.2.<br />
        </p>
    </div>
</div>
  </body>
</html>